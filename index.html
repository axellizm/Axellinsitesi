<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AXELLIZM - Neon Site</title>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,wght@1,600&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root{--pink:#ff2d55;--dark:#0a0005;--glass:rgba(255,255,255,0.05);}
        body{margin:0;padding:0;overflow:hidden;font-family:'Montserrat',sans-serif;background:black; background:radial-gradient(circle at center,#2a0015 0%,#000 100%);}
        h1{font-family:'Bodoni Moda';color:var(--pink);text-align:center;font-size:4rem;text-shadow:0 0 20px var(--pink); margin:0;}
        canvas{position:absolute;top:0;left:0;}
        #snake-canvas{z-index: 5;} /* Yılanı üste alalım */
        #heart-canvas{z-index: 1; pointer-events: none;} /* Kalpler tıklamayı engellemesin */
        button{background:var(--glass);border:1px solid var(--pink);color:var(--pink);padding:12px 25px;border-radius:15px;font-weight:600;cursor:pointer;font-family:'Bodoni Moda';text-transform:uppercase;transition:all 0.3s;box-shadow:0 5px 15px rgba(255,45,85,0.3);}
        button:hover{box-shadow:0 8px 25px rgba(255,45,85,0.7);transform:translateY(-3px);}
        .top-bar{position:fixed;top:0;width:100%;display:flex;justify-content:center;padding:20px;z-index:1000;}
        .controls{position:fixed;bottom:30px;width:100%;display:flex;justify-content:center;gap:20px;z-index:1000;}
    </style>
</head>
<body>

<div class="top-bar"><h1>AXELLIZM</h1></div>
<div class="controls">
    <button onclick="triggerHearts()">Magic Heart</button>
    <button onclick="initSnake()">Yılan Başlat</button>
</div>

<canvas id="heart-canvas"></canvas>
<canvas id="snake-canvas"></canvas>

<script>
// --- Neon Kalpler ---
const hCanvas=document.getElementById("heart-canvas");
const hCtx=hCanvas.getContext("2d");
hCanvas.width=window.innerWidth; hCanvas.height=window.innerHeight;

let hearts=[];
function triggerHearts(){
  const char=prompt("Kalp içinde ne yazsın?","❤");
  if(char === null) return; 
  for(let i=0;i<30;i++){
    setTimeout(()=>{
      hearts.push({
        x:Math.random()*hCanvas.width,
        y:hCanvas.height+20,
        size:Math.random()*20+15,
        speed:Math.random()*3+2,
        text:char || "❤",
        opacity:1
      });
    },i*100);
  }
}

function animateHearts(){
  hCtx.clearRect(0,0,hCanvas.width,hCanvas.height);
  // Sondan başa döngü (splice hatasını önlemek için)
  for(let i = hearts.length - 1; i >= 0; i--){
    let h = hearts[i];
    h.y -= h.speed;
    h.opacity -= 0.005;
    hCtx.globalAlpha = h.opacity;
    hCtx.fillStyle = "#ff2d55";
    hCtx.font = `${h.size}px 'Bodoni Moda'`;
    hCtx.shadowBlur = 10; hCtx.shadowColor = "#ff2d55";
    hCtx.fillText(h.text, h.x, h.y);
    if(h.opacity <= 0) hearts.splice(i, 1);
  }
  hCtx.globalAlpha = 1;
  requestAnimationFrame(animateHearts);
}
animateHearts();

// --- Yılan Oyunu ---
const sCanvas=document.getElementById("snake-canvas");
const sCtx=sCanvas.getContext("2d");
let box=20, snake, food, d, game, nextD;

function initSnake(){
  if(game) clearInterval(game); // Eski oyunu temizle
  sCanvas.width=Math.floor(window.innerWidth/box)*box;
  sCanvas.height=Math.floor(window.innerHeight/box)*box;
  snake=[{x:box*5, y:box*10}];
  d = "RIGHT";
  nextD = "RIGHT";
  spawnFood();
  game=setInterval(drawSnake, 100);
}

function spawnFood(){
  food={
    x:Math.floor(Math.random()*(sCanvas.width/box))*box,
    y:Math.floor(Math.random()*(sCanvas.height/box))*box
  };
}

document.addEventListener("keydown", e => {
  // Tuş basıldığında yönü hemen değiştirme, bir sonraki kareyi bekle (nextD)
  if(e.keyCode==37 && d!="RIGHT") nextD="LEFT";
  else if(e.keyCode==38 && d!="DOWN") nextD="UP";
  else if(e.keyCode==39 && d!="LEFT") nextD="RIGHT";
  else if(e.keyCode==40 && d!="UP") nextD="DOWN";
});

function drawSnake(){
  d = nextD; // Yönü kare başında güncelle
  sCtx.clearRect(0,0,sCanvas.width,sCanvas.height);
  
  for(let i=0; i<snake.length; i++){
    sCtx.fillStyle=(i==0)?"#ff2d55":"rgba(255,45,85,0.5)";
    sCtx.shadowBlur=15; sCtx.shadowColor="#ff2d55";
    sCtx.fillRect(snake[i].x, snake[i].y, box-2, box-2);
  }

  sCtx.fillStyle="#fff";
  sCtx.fillRect(food.x, food.y, box-2, box-2);

  let nx=snake[0].x, ny=snake[0].y;
  if(d=="LEFT") nx-=box; if(d=="UP") ny-=box;
  if(d=="RIGHT") nx+=box; if(d=="DOWN") ny+=box;

  if(nx==food.x && ny==food.y){
    spawnFood();
  } else {
    snake.pop();
  }

  let newHead={x:nx, y:ny};

  // Çarpışma Kontrolü
  if(nx<0 || nx>=sCanvas.width || ny<0 || ny>=sCanvas.height || snake.some(s=>s.x==nx && s.y==ny)){
    clearInterval(game);
    alert("Oyun Bitti!");
    return;
  }
  snake.unshift(newHead);
}

window.addEventListener("resize",()=>{
    hCanvas.width=window.innerWidth; hCanvas.height=window.innerHeight;
});
</script>
</body>
</html>
